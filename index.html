

<html lang="en">
	<head>
	
	<!--[if IE]>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<![endif]-->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1"/>
		<title>jQuery Mobile Bootstrap Theme</title>
		<link rel="stylesheet" href="themes/Bootstrap.css" />
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.css" />
		<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>

	</head>
	<body>
	


	<div data-role="page" data-theme="c">

	<div data-role="header" data-position="fixed" ><a href="#" class="ui-btn ui-icon-bars ui-btn-icon-notext ui-corner-all ui-nodisc-icon transparentButton">No text</a>
    <h1>Event</h1>

    <a href="addEvent.html" data-ajax="false" class="ui-btn ui-icon-plus  ui-btn-icon-notext ui-corner-all ui-nodisc-icon transparentButton">No text</a>
    <!-- <a href="#" class="ui-btn addeventIcon ui-btn-icon-notext ui-corner-all ui-nodisc-icon transparentButton"></a>-->
      </div>
	      		
        <!-- ////////////////// circle listview////////// -->
		<!-- <ul data-role="listview"  class="swipe-delete" >
             <li ><div class="behind">
                            <a href="#" class="ui-btn delete-btn">delete</a>
                  </div><a href="gallery.html" data-ajax="false" >   <div class="img-circular"></div><div class="inline"> <h2>Broken Bells</h2><p>Broken Bells</p></div></a></a></li>
             
        </ul>  -->
     
       <div> <ul data-role="listview"  id="wrapper" class="swipe-delete">
            
           
          
        </ul> 
        </div> 

                <!--<script src='./js/jquery.pull-to-refresh.js'></script>
                 <script>
                   $(document).ready(function(){
                    $('#wrapper').pull_to_refresh({
                      refresh: function(stoploading){
                       stoploading();
                      }
                    });
                   });
                </script> -->
            
      

       </div>


<script type="text/javascript">
  
var host = "http://photofim-mindtrick.rhcloud.com/";
$.ajax({
              url: host+'events',
              dataType: 'json',
              success: function(data) {
                var events = data["data"];
                 $('#wrapper li').remove();
                var listcontainer = $('#wrapper');
                $.each(events, function(index,value){
                  var BaseUrl='gallery.html?eventid='+value["eventId"];
                  var item = $('<li>').prop('class','divlist');
                  //  var div = $('<div>').prop('class','behind');
                  //  var delete_link = $('<a>delete</a>').prop('herf','#').prop('class','ui-btn'+'delete-btn');   
                  // div.append(delete_link);
                  //  item.append(div);

                  var link_to_next_page = $('<a href="'+BaseUrl+'" data-ajax="false">').prop('class','img-circular'); 
                  var container = $('<div>').prop('class','inline');
                  var h2 = $('<h2>'+value["title"] +'</h2>');
                  var desc = $('<p>'+value["description"] +'</p>');
                  var left_icon= $('<div>').prop('class','ui-icon-carat-r ui-btn-icon-right');
                  
                  container.append(h2);
                  container.append(desc);
                  container.append(left_icon);
                  link_to_next_page.append(container);    
                  item.append(link_to_next_page);
                  item.append(left_icon);

                 
                   listcontainer.append(item);
                //handle the data               
            });
          },
    error: function(data) {
      console.log(data);
        //handle the error
    }
     });


// $(function() {
//     function prevent_default(e) {
//         e.preventDefault();
//     }
//     function disable_scroll() {
//         $(document).on('touchmove', prevent_default);
//     }
//     function enable_scroll() {
//         $(document).unbind('touchmove', prevent_default)
//     }
//     var x;
//     $('.swipe-delete li > a')
//         .on('touchstart', function(e) {
//             console.log(e.originalEvent.pageX)
//             $('.swipe-delete li > a.open').css('left', '0px').removeClass('open') // close em all
//             $(e.currentTarget).addClass('open')
//             x = e.originalEvent.targetTouches[0].pageX // anchor point
//         })
//         .on('touchmove', function(e) {
//             var change = e.originalEvent.targetTouches[0].pageX - x
//             change = Math.min(Math.max(-300, change), 0) // restrict to -100px left, 0px right
//             e.currentTarget.style.left = change + 'px'
//             if (change < -10) disable_scroll() // disable scroll once we hit 10px horizontal slide
//         })
//         .on('touchend', function(e) {
//             var left = parseInt(e.currentTarget.style.left)
//             var new_left;
//            if (left < -35) {
//                 new_left = '-100px'
//             } else if (left > 35) {
//                 new_left = '100px'
//             } else {
//                 new_left = '0px'
//             }
//             // e.currentTarget.style.left = new_left
//             $(e.currentTarget).animate({left: new_left}, 200)
//             enable_scroll()
//         });
//     $('li .delete-btn').on('tap', function(e) {
//         e.preventDefault()
//         $(this).parents('li').slideUp('fast', function() {
//             $(this).remove()

//         })
        
//     })
//     $('li .edit-btn').on('touchend', function(e) {
//         e.preventDefault()
//         $(this).parents('li').children('a').html('edited')
//     })
// });


</script>



	</body>
</html>